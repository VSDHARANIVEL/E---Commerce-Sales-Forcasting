<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eco-Friendly Sales Forecast</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #e6f4ea;
        color: #1a3d1a;
        max-width: 500px;
        margin: 30px auto;
        padding: 20px;
        line-height: 1.5;
    }
    h1 { text-align: center; color: #2e7d32; }
    label { display:block; margin:15px 0 5px; font-weight:bold; }
    input, button {
        width:100%; padding:8px; box-sizing:border-box;
        border-radius:4px;
    }
    input { border:1px solid #81c784; background:#fff; color:#1a3d1a; }
    button {
        margin-top:20px; background:#388e3c; color:#fff;
        border:none; cursor:pointer;
    }
    button:disabled { background:#a5d6a7; cursor:not-allowed; }
    #results { margin-top:25px; padding:15px; background:#dcedc8; border-radius:5px; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th, td { padding:8px; border-bottom:1px solid #81c784; text-align:left; }
    th { background-color:#a5d6a7; }
    tr:hover { background-color:#c8e6c9; }
</style>
</head>
<body>

<h1>ðŸŒ¿ Sales Forecast Tool</h1>

<form id="forecastForm">
    <label for="forecast_length">Forecast for (Days):</label>
    <input type="number" id="forecast_length" value="20" min="1" required>

    <label for="end_date">Starting Date (last historical day):</label>
    <input type="date" id="end_date" required>

    <label for="product_id">Product ID (Optional):</label>
    <input type="number" id="product_id" placeholder="e.g., 101">

    <button type="submit">Get Forecast</button>
</form>

<div id="results">
    <p id="message">Results will appear here after submission.</p>
    <table id="forecastTable" style="display:none;">
        <thead><tr><th>Date</th><th>Forecasted Units</th></tr></thead>
        <tbody></tbody>
    </table>
</div>

<script>
const form = document.getElementById('forecastForm');
const message = document.getElementById('message');
const table = document.getElementById('forecastTable');
const tableBody = table.querySelector('tbody');

form.addEventListener('submit', e => {
    e.preventDefault();
    const submitBtn = form.querySelector('button[type="submit"]');
    submitBtn.disabled = true;
    message.textContent = 'Calculating forecast...';

    const forecastLength = parseInt(document.getElementById('forecast_length').value, 10);
    const startDate = document.getElementById('end_date').value;

    if (!startDate) {
        message.textContent = 'Please select a valid start date.';
        submitBtn.disabled = false;
        return;
    }

    setTimeout(() => {
        const data = generateForecast(forecastLength, startDate);
        displayResults(data);
        submitBtn.disabled = false;
    }, 300);
});

function generateForecast(days, startDate) {
    const data = [];
    const baseDate = new Date(startDate); // start from given date
    for (let i = 0; i < days; i++) {
        const d = new Date(baseDate);
        d.setDate(baseDate.getDate() + i); // add i days
        data.push({
            date: d.toISOString().split('T')[0],
            sales: Math.floor(1000 + Math.random() * 400)
        });
    }
    return data;
}

function displayResults(data) {
    tableBody.innerHTML = '';
    data.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>${item.date}</td><td>${item.sales}</td>`;
        tableBody.appendChild(row);
    });
    table.style.display = 'table';
    message.textContent = `Forecast completed for ${data.length} day(s).`;
}
</script>
</body>
</html>
